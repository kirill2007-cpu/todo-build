{"version":3,"sources":["components/AddTask/AddTask.jsx","components/SearchTask/SearchTask.jsx","components/TaskFilter/TaskFilter.jsx","components/ListItem/ListItem.jsx","components/TaskList/TaskList.jsx","components/Panel/Panel.jsx","components/App/App.jsx","index.js"],"names":["AddTask","state","taskName","className","value","this","onChange","event","setState","target","placeholder","onClick","props","addTask","Component","SeachTask","onSearch","TaskFilter","filterAction","onFilter","ListItem","name","isDone","onToggle","onDeleted","id","type","checked","TaskList","listData","map","item","key","Panel","searchTerm","isSaved","onSetSaveStatus","status","forceUpdate","componentDidMount","JSON","parse","localStorage","getItem","window","onbeforeunload","e","console","log","term","prevState","index","findIndex","itemToToggle","slice","onAddTask","uuidv4","isDeleted","onDeleteItem","fiterName","newListData","newState","filteredList","filter","includes","style","transform","textAlign","fontSize","display","justifyContent","marginTop","setItem","stringify","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b8de437c.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport './AddTask.css'\n\nexport default class AddTask extends Component {\n  state = {\n    taskName: '',\n  }\n\n  render() {\n    return (\n      <div className=\"add-task\">\n        <input\n          className=\"input-add-task\"\n          value={this.state.taskName}\n          onChange={event =>\n            this.setState({\n              taskName: event.target.value,\n            })\n          }\n          placeholder=\"task name\"\n        />\n        <button\n          onClick={() => {\n            this.props.addTask(this.state.taskName)\n          }}\n          className=\"button-add-task\"\n        >\n          Add\n        </button>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport './SearchTask.css'\n\nexport default class SeachTask extends Component {\n  render() {\n    return (\n      <div className=\"search-task\">\n        <input\n          className=\"input-search-task\"\n          onChange={event => this.props.onSearch(event.target.value)}\n          placeholder=\"search task\"\n        />\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport './TaskFilter.css'\n\nexport default class TaskFilter extends Component {\n  render() {\n    const { filterAction } = this.props\n    return (\n      <div className=\"task-filter\">\n        <button\n          className={filterAction === 'active' ? 'active' : ''}\n          onClick={() => this.props.onFilter('active')}\n        >\n          Active\n        </button>\n        <button\n          className={filterAction === 'done' ? 'active' : ''}\n          onClick={() => this.props.onFilter('done')}\n        >\n          Done\n        </button>\n        <button\n          className={filterAction === 'deleted' ? 'active' : ''}\n          onClick={() => this.props.onFilter('deleted')}\n        >\n          Deleted\n        </button>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport './ListItem.css'\n\nexport default class ListItem extends Component {\n  render() {\n    const { name, isDone, onToggle, onDeleted, id } = this.props\n    return (\n      <div className=\"list-item\">\n        <div>{name}</div>\n        <div className=\"list-item-control\">\n          <input\n            type=\"checkbox\"\n            checked={isDone}\n            onChange={() => onToggle(id)}\n          />\n          <button onClick={() => onDeleted(id)}>Delete</button>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport ListItem from '../ListItem/ListItem'\nimport './TaskList.css'\n\nexport default class TaskList extends Component {\n  render() {\n    return (\n      <div className=\"task-list\">\n        {this.props.listData.map(item => (\n          <ListItem\n            onDeleted={this.props.onDeleted}\n            key={item.id}\n            id={item.id}\n            name={item.taskName}\n            isDone={item.isDone}\n            onToggle={this.props.onToggle}\n          />\n        ))}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport AddTask from '../AddTask/AddTask'\nimport SeachTask from '../SearchTask/SearchTask'\nimport TaskFilter from '../TaskFilter/TaskFilter'\nimport TaskList from '../TaskList/TaskList'\nimport { v4 as uuidv4 } from 'uuid'\nimport './Panel.css'\n\nexport default class Panel extends Component {\n  state = {\n    listData: [],\n    filterAction: 'active', // active | done | deleted\n    searchTerm: '',\n  }\n\n  isSaved = true\n\n  onSetSaveStatus = status => {\n    this.isSaved = status\n    this.forceUpdate()\n  }\n\n  componentDidMount = () => {\n    this.setState(JSON.parse(localStorage.getItem('_todo_')))\n    window.onbeforeunload = e => {\n      console.log('Worked')\n    }\n  }\n\n  onSearch = term => {\n    this.setState({ ...this.state, searchTerm: term })\n  }\n\n  onToggle = id => {\n    this.onSetSaveStatus(false)\n    this.setState(prevState => {\n      // Здесь получаем индекс найденного элемента по данному индексу\n      const index = prevState.listData.findIndex(item => item.id === id)\n      // Здесь клониуем  элемент под найденным индексом\n      const itemToToggle = { ...prevState.listData[index] }\n      // В клонированном элементе переключаем isDone\n      itemToToggle.isDone = !itemToToggle.isDone\n      // Создаем новый listData  и мерджим его с основным состоянием\n      return {\n        listData: [\n          ...prevState.listData.slice(0, index),\n          itemToToggle,\n          ...prevState.listData.slice(index + 1),\n        ],\n      }\n    })\n  }\n\n  onAddTask = taskName => {\n    this.onSetSaveStatus(false)\n\n    this.setState(prevState => {\n      return {\n        listData: [\n          ...prevState.listData,\n          {\n            id: uuidv4(),\n            taskName: taskName,\n            isDone: false,\n            isDeleted: false,\n          },\n        ],\n      }\n    })\n  }\n\n  onDeleteItem = id => {\n    this.onSetSaveStatus(false)\n    this.setState(prevState => {\n      const index = prevState.listData.findIndex(item => item.id === id)\n      return {\n        listData: [\n          ...prevState.listData.slice(0, index),\n          ...prevState.listData.slice(index + 1),\n        ],\n      }\n    })\n  }\n\n  onFilter = fiterName => {\n    this.setState({ filterAction: fiterName })\n  }\n\n  onDeleted = id => {\n    this.onSetSaveStatus(false)\n    if (\n      this.state.filterAction === 'active' ||\n      this.state.filterAction === 'done'\n    ) {\n      const index = this.state.listData.findIndex(item => item.id === id)\n      const item = { ...this.state.listData[index], isDeleted: true }\n      const newListData = [\n        ...this.state.listData.slice(0, index),\n        item,\n        ...this.state.listData.slice(index + 1),\n      ]\n      const newState = { ...this.state, ...{ listData: newListData } }\n      this.setState(newState)\n    } else {\n      this.onDeleteItem(id)\n    }\n  }\n\n  render() {\n    let filteredList\n    switch (this.state.filterAction) {\n      case 'active':\n        filteredList = this.state.listData.filter(\n          item => !item.isDone && !item.isDeleted\n        )\n        break\n      case 'done':\n        filteredList = this.state.listData.filter(\n          item => item.isDone && !item.isDeleted\n        )\n        break\n      case 'deleted':\n        filteredList = this.state.listData.filter(item => item.isDeleted)\n        break\n      default:\n        break\n    }\n    filteredList = filteredList.filter(item =>\n      item.taskName.includes(this.state.searchTerm)\n    )\n    return (\n      <div className=\"panel\">\n        <div\n          style={{\n            transform: 'translateY(-40px)',\n            textAlign: 'center',\n            fontSize: '30px',\n          }}\n        >\n          TO DO\n        </div>\n        <div className=\"container\">\n          <AddTask addTask={this.onAddTask} />\n          <SeachTask onSearch={this.onSearch} />\n          <TaskFilter\n            onFilter={this.onFilter}\n            filterAction={this.state.filterAction}\n          />\n          <TaskList\n            onDeleted={this.onDeleted}\n            listData={filteredList}\n            onToggle={this.onToggle}\n          />\n          <div\n            style={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              marginTop: '20px',\n            }}\n          >\n            <button\n              onClick={() => {\n                localStorage.setItem('_todo_', JSON.stringify(this.state))\n                this.onSetSaveStatus(true)\n              }}\n            >\n              Save\n            </button>\n            <span>{this.isSaved ? 'SAVED' : 'NOT SAVED'}</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport Panel from '../Panel/Panel'\nimport './App.css'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Panel />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App/App.jsx'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}